function Character(info){this.mainElem=document.createElement("div"),this.mainElem.classList.add("character"),this.mainElem.innerHTML='<div class="character-face-con character-head"><div class="character-face character-head-face face-front"></div><div class="character-face character-head-face face-back"></div></div><div class="character-face-con character-torso"><div class="character-face character-torso-face face-front"></div><div class="character-face character-torso-face face-back"></div></div><div class="character-face-con character-arm character-arm-right"><div class="character-face character-arm-face face-front"></div><div class="character-face character-arm-face face-back"></div></div><div class="character-face-con character-arm character-arm-left"><div class="character-face character-arm-face face-front"></div><div class="character-face character-arm-face face-back"></div></div><div class="character-face-con character-leg character-leg-right"><div class="character-face character-leg-face face-front"></div><div class="character-face character-leg-face face-back"></div></div><div class="character-face-con character-leg character-leg-left"><div class="character-face character-leg-face face-front"></div><div class="character-face character-leg-face face-back"></div></div>',document.querySelector(".stage").appendChild(this.mainElem),this.mainElem.style.left=info.xPos+"%",this.scrollState=!1,this.lastScrollTop=0,this.xPos=info.xPos,this.speed=info.speed,this.direction,this.runningState=!1,this.rafId,this.init()}Character.prototype={constructor:Character,init:function(){const self=this;window.addEventListener("scroll",function(){clearTimeout(self.scrollState),self.scrollState||self.mainElem.classList.add("running"),self.scrollState=setTimeout(function(){self.scrollState=!1,self.mainElem.classList.remove("running")},500),self.lastScrollTop>pageYOffset?self.mainElem.setAttribute("data-direction","backward"):self.mainElem.setAttribute("data-direction","forward"),self.lastScrollTop=pageYOffset}),window.addEventListener("keydown",function(e){self.runningState||(37==e.keyCode?(self.direction="left",self.mainElem.setAttribute("data-direction","left"),self.mainElem.classList.add("running"),self.run(self),self.runningState=!0):39==e.keyCode&&(self.direction="right",self.mainElem.setAttribute("data-direction","right"),self.mainElem.classList.add("running"),self.run(self),self.runningState=!0))}),window.addEventListener("keyup",function(e){self.mainElem.classList.remove("running"),cancelAnimationFrame(self.rafId),self.runningState=!1})},run:function(self){"left"==self.direction?self.xPos-=self.speed:"right"==self.direction&&(self.xPos+=self.speed),self.xPos<2&&(self.xPos=2),self.xPos>88&&(self.xPos=88),self.mainElem.style.left=self.xPos+"%",self.rafId=requestAnimationFrame(function(){self.run(self)})}};